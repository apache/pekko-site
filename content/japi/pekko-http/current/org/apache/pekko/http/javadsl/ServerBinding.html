<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en_us.utf-8">
<head>
<!-- Generated by javadoc (11.0.17) on Thu Mar 02 00:03:43 CET 2023 -->
<title>ServerBinding</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-03-02">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ServerBinding";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.pekko.http.javadsl</a></div>
<h2 title="Class ServerBinding" class="title">Class ServerBinding</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.pekko.http.javadsl.ServerBinding</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">ServerBinding</span>
extends java.lang.Object</pre>
<div class="block">Represents a prospective HTTP server binding.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.pekko.http.scaladsl.Http.ServerBinding)">ServerBinding</a></span>&#8203;(<a href="../scaladsl/Http.ServerBinding.html" title="class in org.apache.pekko.http.scaladsl">Http.ServerBinding</a>&nbsp;delegate)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="ServerBinding.html" title="class in org.apache.pekko.http.javadsl">ServerBinding</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addToCoordinatedShutdown(java.time.Duration,org.apache.pekko.actor.ClassicActorSystemProvider)">addToCoordinatedShutdown</a></span>&#8203;(java.time.Duration&nbsp;hardTerminationDeadline,
                        org.apache.pekko.actor.ClassicActorSystemProvider&nbsp;system)</code></th>
<td class="colLast">
<div class="block">Adds this <code>ServerBinding</code> to the actor system's coordinated shutdown, so that <a href="#unbind()"><code>unbind()</code></a> and <a href="#terminate(java.time.Duration)"><code>terminate(java.time.Duration)</code></a> get
 called appropriately before the system is shut down.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.net.InetSocketAddress</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#localAddress()">localAddress</a></span>()</code></th>
<td class="colLast">
<div class="block">The local address of the endpoint bound by the materialization of the <code>connections</code> <code>pekko.stream.javadsl.Source</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.concurrent.CompletionStage&lt;<a href="HttpTerminated.html" title="class in org.apache.pekko.http.javadsl">HttpTerminated</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#terminate(java.time.Duration)">terminate</a></span>&#8203;(java.time.Duration&nbsp;hardDeadline)</code></th>
<td class="colLast">
<div class="block">Triggers "graceful" termination request being handled on this connection.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.CompletionStage&lt;org.apache.pekko.Done&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unbind()">unbind</a></span>()</code></th>
<td class="colLast">
<div class="block">Asynchronously triggers the unbinding of the port that was bound by the materialization of the <code>connections</code>
 <code>pekko.stream.javadsl.Source</code></div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.concurrent.CompletionStage&lt;<a href="HttpTerminated.html" title="class in org.apache.pekko.http.javadsl">HttpTerminated</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#whenTerminated()">whenTerminated</a></span>()</code></th>
<td class="colLast">
<div class="block">This completion stage completes when the termination process, as initiated by an <a href="#terminate(java.time.Duration)"><code>terminate(java.time.Duration)</code></a> call has completed.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.CompletionStage&lt;java.time.Duration&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#whenTerminationSignalIssued()">whenTerminationSignalIssued</a></span>()</code></th>
<td class="colLast">
<div class="block">Completes when the <a href="#terminate(java.time.Duration)"><code>terminate(java.time.Duration)</code></a> is called and server termination is in progress.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.pekko.http.scaladsl.Http.ServerBinding)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServerBinding</h4>
<pre>public&nbsp;ServerBinding&#8203;(<a href="../scaladsl/Http.ServerBinding.html" title="class in org.apache.pekko.http.scaladsl">Http.ServerBinding</a>&nbsp;delegate)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="addToCoordinatedShutdown(java.time.Duration,org.apache.pekko.actor.ClassicActorSystemProvider)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToCoordinatedShutdown</h4>
<pre class="methodSignature">public&nbsp;<a href="ServerBinding.html" title="class in org.apache.pekko.http.javadsl">ServerBinding</a>&nbsp;addToCoordinatedShutdown&#8203;(java.time.Duration&nbsp;hardTerminationDeadline,
                                              org.apache.pekko.actor.ClassicActorSystemProvider&nbsp;system)</pre>
<div class="block">Adds this <code>ServerBinding</code> to the actor system's coordinated shutdown, so that <a href="#unbind()"><code>unbind()</code></a> and <a href="#terminate(java.time.Duration)"><code>terminate(java.time.Duration)</code></a> get
 called appropriately before the system is shut down.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hardTerminationDeadline</code> - timeout after which all requests and connections shall be forcefully terminated</dd>
<dd><code>system</code> - (undocumented)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="localAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>localAddress</h4>
<pre class="methodSignature">public&nbsp;java.net.InetSocketAddress&nbsp;localAddress()</pre>
<div class="block">The local address of the endpoint bound by the materialization of the <code>connections</code> <code>pekko.stream.javadsl.Source</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="terminate(java.time.Duration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.CompletionStage&lt;<a href="HttpTerminated.html" title="class in org.apache.pekko.http.javadsl">HttpTerminated</a>&gt;&nbsp;terminate&#8203;(java.time.Duration&nbsp;hardDeadline)</pre>
<div class="block">Triggers "graceful" termination request being handled on this connection.
 <p>
 Termination works as follows:
 <p>
 1) Unbind:
 - the server port is unbound; no new connections will be accepted.
 <p>
 1.5) Immediately the ServerBinding <code>whenTerminationSignalIssued</code> future is completed.
 This can be used to signal parts of the application that the http server is shutting down and they should clean up as well.
 Note also that for more advanced shut down scenarios you may want to use the Coordinated Shutdown capabilities of Akka.
 <p>
 2) if a connection has no "in-flight" request, it is terminated immediately
 <p>
 3) Handle in-flight request:
 - if a request is "in-flight" (being handled by user code), it is given <code>hardDeadline</code> time to complete,
   - if user code emits a response within the timeout, then this response is sent to the client with a <code>Connection: close</code> header and the connection is closed.
     - however if it is a streaming response, it is also mandated that it shall complete within the deadline, and if it does not
       the connection will be terminated regardless of status of the streaming response (this is because such response could be infinite,
       which could trap the server in a situation where it could not terminate if it were to wait for a response to "finish")
     - existing streaming responses must complete before the deadline as well.
       When the deadline is reached the connection will be terminated regardless of status of the streaming responses.
   - if user code does not reply with a response within the deadline we produce a special <code>pekko.http.javadsl.settings.ServerSettings.getTerminationDeadlineExceededResponse</code>
     HTTP response (e.g. 503 Service Unavailable)
 <p>
 4) Keep draining incoming requests on existing connection:
 - The existing connection will remain alive for until the <code>hardDeadline</code> is exceeded,
   yet no new requests will be delivered to the user handler. All such drained responses will be replied to with an
   termination response (as explained in phase 3).
 <p>
 5) Close still existing connections
 - Connections are terminated forcefully once the <code>hardDeadline</code> is exceeded.
   The <code>whenTerminated</code> future is completed as well, so the graceful termination (of the <code>ActorSystem</code> or entire JVM
   itself can be safely performed, as by then it is known that no connections remain alive to this server).
 <p>
 Note that the termination response is configurable in <code>pekko.http.javadsl.settings.ServerSettings</code>, and by default is an <code>503 Service Unavailable</code>,
 with an empty response entity.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hardDeadline</code> - timeout after which all requests and connections shall be forcefully terminated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>completion stage which completes successfully with a marker object once all connections have been terminated</dd>
</dl>
</li>
</ul>
<a id="unbind()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unbind</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.CompletionStage&lt;org.apache.pekko.Done&gt;&nbsp;unbind()</pre>
<div class="block">Asynchronously triggers the unbinding of the port that was bound by the materialization of the <code>connections</code>
 <code>pekko.stream.javadsl.Source</code>
 <p>
 The produced <code>CompletionStage</code> is fulfilled when the unbinding has been completed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="whenTerminated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>whenTerminated</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.CompletionStage&lt;<a href="HttpTerminated.html" title="class in org.apache.pekko.http.javadsl">HttpTerminated</a>&gt;&nbsp;whenTerminated()</pre>
<div class="block">This completion stage completes when the termination process, as initiated by an <a href="#terminate(java.time.Duration)"><code>terminate(java.time.Duration)</code></a> call has completed.
 This means that the server is by then: unbound, and has closed all existing connections.
 <p>
 This signal can for example be used to safely terminate the underlying ActorSystem.
 <p>
 Note: This mechanism is currently NOT hooked into the Coordinated Shutdown mechanisms of Akka.
       TODO: This feature request is tracked by: https://github.com/apache/incubator-pekko-http/issues/1210
 <p>
 Note that this signal may be used for Coordinated Shutdown to proceed to next steps in the shutdown.
 You may also explicitly depend on this completion stage to perform your next shutting down steps.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="whenTerminationSignalIssued()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>whenTerminationSignalIssued</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.CompletionStage&lt;java.time.Duration&gt;&nbsp;whenTerminationSignalIssued()</pre>
<div class="block">Completes when the <a href="#terminate(java.time.Duration)"><code>terminate(java.time.Duration)</code></a> is called and server termination is in progress.
 Can be useful to make parts of your application aware that termination has been issued,
 and they have <code>Duration</code> time remaining to clean-up before the server will forcefully close
 existing connections.
 <p>
 Note that while termination is in progress, no new connections will be accepted (i.e. termination implies prior <a href="#unbind()"><code>unbind()</code></a>).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
