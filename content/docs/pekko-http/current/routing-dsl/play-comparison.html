<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="Apache Pekko Http: Modern, fast, asynchronous, streaming-first HTTP server and client.">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="Apache Pekko Http: Modern, fast, asynchronous, streaming-first HTTP server and client.">
<link rel="shortcut icon" href="../assets/images/pekko_favicon.png">
<title>Compared with Play routes · Apache Pekko HTTP</title>
<link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
<link rel="stylesheet" href="../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../lib/prettify/prettify.css">
<script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="../assets/stylesheets/pekko-theme.css">
</head>
<body
data-md-color-primary="white"
data-md-color-accent="orange"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../index.html" title="Apache Pekko HTTP" class="md-header-nav__button md-logo">
<img src="../assets/images/pekko_logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Apache Pekko HTTP
</span>
<span class="md-header-nav__topic">
Compared with Play routes
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/apache/incubator-pekko-http"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
apache/incubator-pekko-http
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../index.html" title="Apache Pekko HTTP" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../assets/images/pekko_logo.png" width="24" height="24">
</a>
<a href="../index.html" title="Apache Pekko HTTP">
Apache Pekko HTTP
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/apache/incubator-pekko-http"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
apache/incubator-pekko-http
</div>
</a>

</div>
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
<ul>
  <li><a href="../security.html" class="page">! Security Announcements !</a>
  <ul>
    <li><a href="../security.html#receiving-security-advisories" class="header">Receiving Security Advisories</a></li>
    <li><a href="../security.html#reporting-vulnerabilities" class="header">Reporting Vulnerabilities</a></li>
    <li><a href="../security.html#references" class="header">References</a></li>
  </ul></li>
  <li><a href="../release-notes/index.html" class="page">0. Release Notes</a></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a>
  <ul>
    <li><a href="../introduction.html#philosophy" class="header">Philosophy</a></li>
    <li><a href="../introduction.html#using-apache-pekko-http" class="header">Using Apache Pekko HTTP</a></li>
    <li><a href="../introduction.html#routing-dsl-for-http-servers" class="header">Routing DSL for HTTP servers</a></li>
    <li><a href="../introduction.html#marshalling" class="header">Marshalling</a></li>
    <li><a href="../introduction.html#streaming" class="header">Streaming</a></li>
    <li><a href="../introduction.html#low-level-http-server-apis" class="header">Low-level HTTP server APIs</a></li>
    <li><a href="../introduction.html#http-client-api" class="header">HTTP Client API</a></li>
    <li><a href="../introduction.html#the-modules-that-make-up-apache-pekko-http" class="header">The modules that make up Apache Pekko HTTP</a></li>
  </ul></li>
  <li><a href="../usage.html" class="page">2. Usage</a>
  <ul>
    <li><a href="../configuration.html" class="page">Configuration</a></li>
    <li><a href="../migration-guide/index.html" class="page">Migration Guides</a></li>
    <li><a href="../compatibility-guidelines.html" class="page">Compatibility Guidelines</a></li>
  </ul></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a>
  <ul>
    <li><a href="../common/http-model.html" class="page">HTTP Model</a></li>
    <li><a href="../common/uri-model.html" class="page">The URI model</a></li>
    <li><a href="../common/marshalling.html" class="page">Marshalling</a></li>
    <li><a href="../common/unmarshalling.html" class="page">Unmarshalling</a></li>
    <li><a href="../common/encoding.html" class="page">Encoding / Decoding</a></li>
    <li><a href="../common/json-support.html" class="page">JSON Support</a></li>
    <li><a href="../common/xml-support.html" class="page">XML Support</a></li>
    <li><a href="../common/sse-support.html" class="page">Server-Sent Events Support</a></li>
    <li><a href="../common/timeouts.html" class="page">Timeouts</a></li>
    <li><a href="../common/caching.html" class="page">Caching</a></li>
  </ul></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a>
  <ul>
    <li><a href="../routing-dsl/index.html" class="page">Routing DSL</a></li>
    <li><a href="../server-side/low-level-api.html" class="page">Core Server API</a></li>
    <li><a href="../server-side/websocket-support.html" class="page">Server WebSocket Support</a></li>
    <li><a href="../server-side/server-https-support.html" class="page">Server HTTPS Support</a></li>
    <li><a href="../server-side/graceful-termination.html" class="page">Graceful termination</a></li>
    <li><a href="../server-side/http2.html" class="page">Server-Side HTTP/2 (Preview)</a></li>
  </ul></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a>
  <ul>
    <li><a href="../client-side/configuration.html" class="page">Configuration</a></li>
    <li><a href="../client-side/request-and-response.html" class="page">HttpRequest and HttpResponse</a></li>
    <li><a href="../client-side/request-level.html" class="page">Request-Level Client-Side API</a></li>
    <li><a href="../client-side/host-level.html" class="page">Host-Level Client-Side API</a></li>
    <li><a href="../client-side/connection-level.html" class="page">Connection-Level Client-Side API</a></li>
    <li><a href="../client-side/pool-overflow.html" class="page">Pool overflow and the max-open-requests setting</a></li>
    <li><a href="../client-side/client-https-support.html" class="page">Client-Side HTTPS Support</a></li>
    <li><a href="../client-side/client-transport.html" class="page">Pluggable Client Transports / HTTP(S) proxy Support</a></li>
    <li><a href="../client-side/websocket-support.html" class="page">Client-Side WebSocket Support</a></li>
    <li><a href="../client-side/http2.html" class="page">Client-Side HTTP/2 (Preview)</a></li>
  </ul></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a>
  <ul>
    <li><a href="../technologies.html#http" class="header">HTTP</a></li>
    <li><a href="../technologies.html#https" class="header">HTTPS</a></li>
    <li><a href="../technologies.html#websocket" class="header">WebSocket</a></li>
    <li><a href="../technologies.html#http-2" class="header">HTTP/2</a></li>
    <li><a href="../technologies.html#dns" class="header">DNS</a></li>
    <li><a href="../technologies.html#multipart" class="header">Multipart</a></li>
    <li><a href="../technologies.html#server-sent-events-sse-" class="header">Server-sent Events (SSE)</a></li>
    <li><a href="../technologies.html#json" class="header">JSON</a></li>
    <li><a href="../technologies.html#xml" class="header">XML</a></li>
    <li><a href="../technologies.html#gzip-and-deflate-content-encoding" class="header">Gzip and Deflate Content-Encoding</a></li>
  </ul></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a>
  <ul>
    <li><a href="../troubleshooting/index.html" class="page">Troubleshooting</a></li>
    <li><a href="../handling-blocking-operations-in-pekko-http-routes.html" class="page">Handling blocking operations in Apache Pekko HTTP</a></li>
    <li><a href="../implications-of-streaming-http-entity.html" class="page">Implications of the streaming nature of Request/Response Entities</a></li>
  </ul></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a>
  <ul>
    <li><a href="../contributing.html#welcome-" class="header">Welcome!</a></li>
    <li><a href="../contributing.html#snapshots" class="header">Snapshots</a></li>
  </ul></li>
  <li><a href="../reference.html" class="page">10. Reference</a>
  <ul>
    <li><a href="../reference.html#api-documentation" class="header">API Documentation</a></li>
    <li><a href="../reference.html#directives" class="header">Directives</a></li>
    <li><a href="../reference.html#books" class="header">Books</a></li>
  </ul></li>
</ul>

<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../routing-dsl/play-comparison.html#compared-with-play-routes" class="header">Compared with Play routes</a>
  <ul>
    <li><a href="../routing-dsl/play-comparison.html#conceptual-differences" class="header">Conceptual differences</a></li>
    <li><a href="../routing-dsl/play-comparison.html#side-by-side" class="header">Side-by-side</a></li>
  </ul></li>
</ul>
</nav>


<ul class="md-nav__list md-nav__links">
<li class="md-nav__item"><a href="https://apache.org"><i class="md-icon">link</i> Apache Software Foundation</a></li>
<li class="md-nav__item"><a href="https://apache.org/licenses/"><i class="md-icon">link</i>&nbsp;License</a></li>
<li class="md-nav__item"><a href="https://apache.org/security/"><i class="md-icon">link</i>&nbsp;Security</a></li>
<li class="md-nav__item"><a href="https://www.apache.org/foundation/sponsorship.html"><i class="md-icon">link</i>&nbsp;Donate</a></li>
<li class="md-nav__item"><a href="https://www.apache.org/foundation/thanks.html"><i class="md-icon">link</i>&nbsp;Thanks</a></li>
</ul>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.0.0+4308-98f0ff9c*
</label>
</li>
</ul>

</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../routing-dsl/play-comparison.html#compared-with-play-routes" class="header">Compared with Play routes</a>
  <ul>
    <li><a href="../routing-dsl/play-comparison.html#conceptual-differences" class="header">Conceptual differences</a></li>
    <li><a href="../routing-dsl/play-comparison.html#side-by-side" class="header">Side-by-side</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#compared-with-play-routes" name="compared-with-play-routes" class="anchor"><span class="anchor-link"></span></a>Compared with Play routes</h1>
<p>If you have been using <span class="group-scala"><a href="https://www.playframework.com/documentation/2.8.x/ScalaRouting#The-routes-file-syntax">Play&rsquo;s routes file syntax</a></span><span class="group-java"><a href="https://www.playframework.com/documentation/2.8.x/JavaRouting#The-routes-file-syntax">Play&rsquo;s routes file syntax</a></span> earlier, this page may help you to use the Apache Pekko HTTP routing DSL.</p>
<h2><a href="#conceptual-differences" name="conceptual-differences" class="anchor"><span class="anchor-link"></span></a>Conceptual differences</h2>
<p>The most apparent difference is Play&rsquo;s use of special purpose syntax implemented as an <a href="https://en.wikipedia.org/wiki/Domain-specific_language#External_and_Embedded_Domain_Specific_Languages">external DSL</a>, whereas Apache Pekko HTTP routes are described in <span class="group-scala">Scala source code</span><span class="group-java">Java source code</span> with regular methods and values (as &ldquo;embedded DSL&rdquo;). Both are crafted to make the reader &ldquo;grasp the code&rsquo;s intention&rdquo;.</p>
<p>The Apache Pekko HTTP DSL uses <a href="directives/index.html">Directives</a> to describe how incoming requests translate to functionality in the server. Play allows splitting the routes definitions in multiple routes files. The Apache Pekko HTTP DSL is very flexible and allows for composition so that different concerns can be properly split and organized as other source code would be.</p>
<p>Both Play and Apache Pekko HTTP choose the first matching route within the routes file/routes definition. In Play routes are listed with one route per line, in Apache Pekko HTTP multiple routes must be concatenated with the <code>concat</code> method.</p>
<h2><a href="#side-by-side" name="side-by-side" class="anchor"><span class="anchor-link"></span></a>Side-by-side</h2>
<p>These examples are a non-comprehensive list of how Play routes could be written in Apache Pekko HTTP. They try to mimic the structure which Play uses, to aid understanding, even though it might not be the most Apache Pekko HTTP-idiomatic notation. </p>
<h3><a href="#static-path" name="static-path" class="anchor"><span class="anchor-link"></span></a>Static path</h3>
<p>For example, to exactly match incoming <code>GET /clients/all</code> requests, you can define this route in Play.</p>
<pre><code>GET   /clients/all          controllers.Clients.list()
</code></pre>
<p>In Apache Pekko HTTP every path segment is specified as a separate <code>String</code> <span class="group-scala">concatenated with the <code>/</code> method</span><span class="group-java">concatenated by the <code>slash</code> method on <code>segment</code></span>.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L36-L38" target="_blank" title="Go to snippet source">source</a><code class="language-scala">(get &amp; path(&quot;clients&quot; / &quot;all&quot;)) {
  complete(Clients.list())
}</code></pre></dd>
  <dt>Scala test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L42-L44" target="_blank" title="Go to snippet source">source</a><code class="language-scala">Get(&quot;/clients/all&quot;) ~&gt; clientsAll ~&gt; check {
  responseAs[String] shouldEqual &quot;clientA,clientB,clientC&quot;
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L65-L69" target="_blank" title="Go to snippet source">source</a><code class="language-java">get(() -&gt;
        path(segment(&quot;clients&quot;).slash(&quot;all&quot;), () -&gt;
                complete(Clients.list())
        )
);</code></pre></dd>
  <dt>Java test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L134-L137" target="_blank" title="Go to snippet source">source</a><code class="language-java">TestRoute route = testRoute(new Routes().clientsAll());
route.run(HttpRequest.GET(&quot;/clients/all&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;clientA,clientB,clientC&quot;);</code></pre></dd>
</dl>
<h3><a href="#dynamic-parts" name="dynamic-parts" class="anchor"><span class="anchor-link"></span></a>Dynamic parts</h3>
<p>If you want to define a route that retrieves a client by ID, you’ll need to add a dynamic part.</p>
<pre><code>GET   /clients/:id          controllers.Clients.show(id: Long)
</code></pre>
<p>Apache Pekko HTTP uses <a href="path-matchers.html#basic-pathmatchers">path matchers</a> which match certain data types and pass their data on.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L51-L53" target="_blank" title="Go to snippet source">source</a><code class="language-scala">(get &amp; path(&quot;client&quot; / LongNumber)) { id =&gt;
  complete(Clients.get(id))
}</code></pre></dd>
  <dt>Scala test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L57-L59" target="_blank" title="Go to snippet source">source</a><code class="language-scala">Get(&quot;/client/321433&quot;) ~&gt; clientById ~&gt; check {
  responseAs[String] shouldEqual &quot;clientB&quot;
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L76-L80" target="_blank" title="Go to snippet source">source</a><code class="language-java">get(() -&gt;
        path(segment(&quot;client&quot;).slash(longSegment()), id -&gt;
                complete(Clients.get(id))
        )
);</code></pre></dd>
  <dt>Java test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L144-L147" target="_blank" title="Go to snippet source">source</a><code class="language-java">TestRoute route = testRoute(new Routes().clientById());
route.run(HttpRequest.GET(&quot;/client/321433&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;clientB&quot;);</code></pre></dd>
</dl>
<h3><a href="#dynamic-parts-spanning-several-" name="dynamic-parts-spanning-several-" class="anchor"><span class="anchor-link"></span></a>Dynamic parts spanning several /</h3>
<p>You may want to capture a dynamic part of more than one URI path segment, separated by forward slashes.</p>
<pre><code>GET   /files/*name          controllers.Application.download(name)
</code></pre>
<p>The Apache Pekko HTTP directive <span class="group-scala"><code>Remaining</code></span><span class="group-java">remaining()</span> makes a list of the segments to be passed. (See <a href="path-matchers.html#basic-pathmatchers">Path Matchers</a> for other ways to extract the path.)</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L68-L70" target="_blank" title="Go to snippet source">source</a><code class="language-scala">(get &amp; path(&quot;files&quot; / Remaining)) { name =&gt;
  complete(download(name))
}</code></pre></dd>
  <dt>Scala test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L74-L76" target="_blank" title="Go to snippet source">source</a><code class="language-scala">Get(&quot;/files/images/logo.png&quot;) ~&gt; files ~&gt; check {
  responseAs[String] shouldEqual &quot;images/logo.png: file contents&quot;
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L87-L91" target="_blank" title="Go to snippet source">source</a><code class="language-java">get(() -&gt;
        path(segment(&quot;files&quot;).slash(remaining()), names -&gt;
                complete(download(names))
        )
);</code></pre></dd>
  <dt>Java test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L154-L157" target="_blank" title="Go to snippet source">source</a><code class="language-java">TestRoute route = testRoute(new Routes().files());
route.run(HttpRequest.GET(&quot;/files/images/logo.png&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;images/logo.png: file contents&quot;);</code></pre></dd>
</dl>
<h3><a href="#access-parameters" name="access-parameters" class="anchor"><span class="anchor-link"></span></a>Access parameters</h3>
<p>The <a href="directives/parameter-directives/index.html">Parameter directives</a> give access to parameters passed on the URL.</p>
<h4><a href="#mandatory-parameters" name="mandatory-parameters" class="anchor"><span class="anchor-link"></span></a>Mandatory parameters</h4>
<p>By default parameters are expected to be of type <code>String</code>. To make Apache Pekko HTTP convert a parameter to a different type, specify an <a href="directives/parameter-directives/parameters.html#deserialized-parameter">unmarshaller</a>.</p>
<pre><code># Extract the page parameter from the query string.
# i.e. http://myserver.com/?page=index
GET   /                     controllers.Application.show(page)
</code></pre>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L85-L87" target="_blank" title="Go to snippet source">source</a><code class="language-scala">(get &amp; path(&quot;&quot;) &amp; parameter(&quot;page&quot;)) { page =&gt;
  complete(getPage(page))
}</code></pre></dd>
  <dt>Scala test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L91-L93" target="_blank" title="Go to snippet source">source</a><code class="language-scala">Get(&quot;/?page=example.txt&quot;) ~&gt; pageParameter ~&gt; check {
  responseAs[String] shouldEqual &quot;The requested [example.txt].&quot;
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L98-L102" target="_blank" title="Go to snippet source">source</a><code class="language-java">get(() -&gt;
        parameter(&quot;page&quot;, page -&gt;
                complete(getPage(page))
        )
);</code></pre></dd>
  <dt>Java test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L164-L169" target="_blank" title="Go to snippet source">source</a><code class="language-java">TestRoute route = testRoute(new Routes().pageParameter());
route.run(HttpRequest.GET(&quot;?page=example.txt&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;The requested [example.txt].&quot;);
route.run(HttpRequest.GET(&quot;/&quot;))
        .assertStatusCode(StatusCodes.NOT_FOUND);</code></pre></dd>
</dl>
<h4><a href="#optional-parameters" name="optional-parameters" class="anchor"><span class="anchor-link"></span></a>Optional parameters</h4>
<pre><code># The version parameter is optional. E.g. /api/list-all?version=3.0
GET   /api/list-all         controllers.Api.list(version: Option[String])
</code></pre><div class="group-scala">
<p>The parameter name may be decorated with <code>.optional</code> to mark it as optional (for other variants see <a href="directives/parameter-directives/parameters.html#description">other parameter extractors</a>).</p></div><div class="group-java">
<p>The <code>parameterOptional</code> directive passes the parameter as <code>Optional&lt;String&gt;</code>. </p>
<p>The directive <code>parameterRequiredValue</code> makes the route match only if the parameter contains the specified value.</p>
<p>See <a href="directives/parameter-directives/parameters.html">parameter extractors</a>.</p></div>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L102-L104" target="_blank" title="Go to snippet source">source</a><code class="language-scala">(get &amp; path(&quot;api&quot; / &quot;list-all&quot;) &amp; parameter(&quot;version&quot;.optional)) { version =&gt;
  complete(listAll(version))
}</code></pre></dd>
  <dt>Scala test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L108-L113" target="_blank" title="Go to snippet source">source</a><code class="language-scala">Get(&quot;/api/list-all?version=3.0&quot;) ~&gt; optionalPageParameter ~&gt; check {
  responseAs[String] shouldEqual &quot;aa,bb,cc&quot;
}
Get(&quot;/api/list-all&quot;) ~&gt; optionalPageParameter ~&gt; check {
  responseAs[String] shouldEqual &quot;ff&quot;
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L109-L114" target="_blank" title="Go to snippet source">source</a><code class="language-java">get(() -&gt;
        path(segment(&quot;api&quot;).slash(&quot;list&quot;), () -&gt;
                parameterOptional(&quot;version&quot;, version -&gt;
                        complete(apiList(version)))
        )
);</code></pre></dd>
  <dt>Java test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L176-L182" target="_blank" title="Go to snippet source">source</a><code class="language-java">TestRoute route = testRoute(new Routes().apiListWithVersion());
route.run(HttpRequest.GET(&quot;/api/list?version=3.0&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;aa,bb,cc&quot;);
route.run(HttpRequest.GET(&quot;/api/list&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;ff&quot;);</code></pre></dd>
</dl>
<h4><a href="#list-parameters" name="list-parameters" class="anchor"><span class="anchor-link"></span></a>List parameters</h4>
<p>This shows how a repeated URL parameter is captured.</p>
<pre><code># The item parameter is a list.
# E.g. /api/list-items?item=red&amp;item=new&amp;item=slippers
GET   /api/list-items      controllers.Api.listItems(item: List[String])
</code></pre><div class="group-scala">
<p>Decorating the parameter name with a <code>.repeated</code> makes Apache Pekko HTTP pass all values of that parameter as an <code>Iterable[String]</code>].</p></div><div class="group-java">
<p>The <code>parameterList</code> directive may take a parameter name to specify a single parameter name to pass on as a <code>List&lt;String&gt;</code>.]</p></div>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L122-L124" target="_blank" title="Go to snippet source">source</a><code class="language-scala">(get &amp; path(&quot;api&quot; / &quot;list-items&quot;) &amp; parameters(&quot;item&quot;.repeated)) { items =&gt;
  complete(listItems(items))
}</code></pre></dd>
  <dt>Scala test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/scala/docs/http/scaladsl/server/PlayRoutesComparisonSpec.scala#L128-L130" target="_blank" title="Go to snippet source">source</a><code class="language-scala">Get(&quot;/api/list-items?item=red&amp;item=new&amp;item=slippers&quot;) ~&gt; itemParameterList ~&gt; check {
  responseAs[String] shouldEqual &quot;slippers,new,red&quot;
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L121-L126" target="_blank" title="Go to snippet source">source</a><code class="language-java">get(() -&gt;
        path(segment(&quot;api&quot;).slash(&quot;list-items&quot;), () -&gt;
                parameterList(&quot;item&quot;, items -&gt;
                        complete(apiItems(items)))
        )
);</code></pre></dd>
  <dt>Java test</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/test/java/docs/http/javadsl/server/testkit/PlayRoutesComparisonTest.java#L189-L192" target="_blank" title="Go to snippet source">source</a><code class="language-java">TestRoute route = testRoute(new Routes().apiListItems());
route.run(HttpRequest.GET(&quot;/api/list-items?item=red&amp;item=new&amp;item=slippers&quot;))
        .assertStatusCode(StatusCodes.OK)
        .assertEntity(&quot;slippers,new,red&quot;); // order is not kept</code></pre></dd>
</dl>
</div>
<div>
<a href="https://github.com/apache/incubator-pekko-http/tree/main/docs/src/main/paradox/routing-dsl/play-comparison.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.0.0+4308-98f0ff9c*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../routing-dsl/overview.html" title="Routing DSL Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Routing DSL Overview
</span>
</div>
</a>
<a href="../routing-dsl/routes.html" title="Routes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Routes
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Copyright © 2022, 2023 <a href="https://apache.org">The Apache Software Foundation</a>, Licensed under the Apache License, Version 2.0.
 This product contains significant parts that were originally based on software from Lightbend (<a href="https://akka.io/">Akka</a>).
 Copyright (C) 2009-2022 Lightbend Inc. &lt;https://www.lightbend.com&gt; Apache Pekko is derived from Akka 2.6.x,
 the last version that was distributed under the Apache License, Version 2.0 License.
</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
</div>
</div>
</footer>

</div>
<script src="../assets/javascripts/application.583bbe55.js"></script>
<script src="../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../."}})</script>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../assets/javascripts/groups.js"></script>

<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
